{% extends "core/base.html" %}
{% block content %}
  <h2 class="page-title">학생정보 관리</h2>

  <p class="hint">
    동일 학번이 이미 존재하면 <b>해당 학생 정보를 수정</b>하고, 과목 점수는 <b>덮어쓰기 저장</b>됩니다.
  </p>

  <form method="post">
    {% csrf_token %}

    <div class="grid2">
      <div class="card">
        <h3 class="card-title">기본 정보</h3>

        <div class="form-row">
          <label>학번</label>
          {{ form.student_no }}
        </div>

        <div class="form-row">
          <label>이름</label>
          {{ form.name }}
        </div>

        <div class="form-row">
          <label>학과</label>
          {{ form.department }}
        </div>

        <div class="form-row">
          <label>성별</label>
          {{ form.gender }}
        </div>
      </div>

      <div class="card">
        <h3 class="card-title">과목별 성적 입력</h3>

        {{ formset.management_form }}
        <table class="tbl small">
          <thead>
            <tr>
              <th>과목</th>
              <th>점수</th>
            </tr>
          </thead>
          <tbody>
            {% for f in formset %}
              <tr>
                <td>
                  {{ f.subject_id }}
                  {{ f.subject_name }}
                </td>
                <td>{{ f.score }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>

        <div style="height:12px"></div>
        <button class="btn" type="submit">저장</button>
      </div>
    </div>
  </form>
{% endblock %}
